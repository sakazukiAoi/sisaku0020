<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã¦pãƒ¼beï¾„á–‡ÆŸÆ¸æ™‚è¨ˆ & ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background-color: #222; 
            color: white; 
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }
        .container {
            display: flex;
            width: 100%;
            max-width: 1000px;
        }
        .left, .right {
            padding: 20px;
        }
        .left {
            flex: 1;
            text-align: center;
            margin-left: 18%;
        }
        .right {
            margin-left: 100px;
            flex: 1;
        }
        h1 { margin-top: 20px; }
        #clock { font-size: 2em; margin: 10px 0; }
        table { border-collapse: collapse; margin: auto; }
        td, th { border: 1px solid white; padding: 8px; text-align: center; }
        th { background-color: #444; }
        .schedule {
            text-align: left;
            font-size: 0.8em;
            line-height: 2em;
        }
        .schedule div { margin: 1px 0; }
        .highlight-event {
            padding: 6px 10px;
            border: 2px solid white;
            border-radius: 6px;
            background-color: #333;
            font-weight: bold;
        }

        /* ===== ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è‰²åˆ†ã‘ ===== */
        .weekday { background-color: #222; }      /* å¹³æ—¥ */
        .today-weekday { background-color: white; color: black; font-weight: bold; }

        .ten { background-color: #4686da; }       /* å¤©æ—¥ */
        .today-ten { background-color: #bad4fc; color: black; font-weight: bold; }

        .umi { background-color: #b15050; }       /* æµ·æ—¥ */
        .today-umi { background-color: #fac6c6; color: black; font-weight: bold; }

        .holiday { background-color: #4b9655; }   /* ç¥æ—¥ */
        .today-holiday { background-color: #98dda1; color: black; font-weight: bold; }
        /* ã‚¹ãƒãƒ›å¯¾å¿œ */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                align-items: center; /* ä¸­å¤®å¯„ã› */
            }
            .left {
                margin-left: 0;
            }
            .right {
                margin-left: 0;
                margin-top: 20px; /* å·¦ã®ä¸‹ã«ä½™ç™½ */
                width: 100%;
            }
        }

    </style>
</head>
<body>

<div class="container">
    <!-- å·¦ã‚«ãƒ©ãƒ  -->
    <div class="left">
        <h1>2025.09.08.24.59.59</h1>
        <div id="clock">èª­ã¿è¾¼ã¿ä¸­...</div>
        <div id="calendar"></div>
    </div>

    <!-- å³ã‚«ãƒ©ãƒ  -->
    <div class="right">
        <div class="schedule" id="schedule">
            <div>1æœˆ01æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ02æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ03æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ04æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ05æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ06æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ07æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ08æ—¥ã€€æ­£æœˆ</div>
            <div>1æœˆ13æ—¥ã€€ç¯€åˆ†</div>
            <div>2æœˆ04æ—¥ã€€å»ºå›½è¨˜å¿µæ—¥</div>
            <div>2æœˆ12æ—¥ã€€æ˜¥åˆ†</div>
            <div>2æœˆ18æ—¥ã€€ã¿ã©ã‚Šã®æ—¥</div>
            <div>2æœˆ30æ—¥ã€€æ¯ã®æ—¥</div>
            <div>3æœˆ16æ—¥ã€€ã“ã©ã‚‚ã®æ—¥</div>
            <div>3æœˆ28æ—¥ã€€æ–‡åŒ–ã®æ—¥</div>
            <div>4æœˆ12æ—¥ã€€å¤è‡³</div>
            <div>4æœˆ15æ—¥ã€€æµ·ã®æ—¥</div>
            <div>4æœˆ20æ—¥ã€€çˆ¶ã®æ—¥</div>
            <div>4æœˆ26æ—¥ã€€å¥´éš·è§£æ”¾è¨˜å¿µæ—¥</div>
            <div>5æœˆ08æ—¥ã€€ã‚¯ãƒ¬ã‚¤ãƒ³ãƒ»å‘½æ—¥</div>
            <div>5æœˆ21æ—¥ã€€å¤ç¥­ã‚Š</div>
            <div>6æœˆ10æ—¥ã€€å…¥å­¦å¼</div>
            <div>6æœˆ12æ—¥ã€€åç©«ç¥­ ä¸ƒå¤•ã€€ç§‹åˆ†</div>
            <div>6æœˆ13æ—¥ã€€åç©«ç¥­ é‹å‹•ä¼š</div>
            <div>6æœˆ14æ—¥ã€€åç©«ç¥­ ç§‹ç¥­ã‚Š</div>
            <div>7æœˆ03æ—¥ã€€ãƒãƒ­ã‚¦ã‚£ãƒ³</div>
            <div>7æœˆ06æ—¥ã€€å‹¤åŠ´æ„Ÿè¬ã®æ—¥</div>
            <div>7æœˆ17æ—¥ã€€å›½ç‹èª•ç”Ÿè¨˜å¿µæ—¥</div>
            <div>8æœˆ12æ—¥ã€€å†¬è‡³</div>
            <div>8æœˆ25æ—¥ã€€æ•¬è€ã®æ—¥</div>
            <div>8æœˆ29æ—¥ã€€æ˜Ÿã®æ—¥</div>
            <div>8æœˆ32æ—¥ã€€å¤§æ™¦æ—¥</div>
        </div>
    </div>
</div>

<script>
    // ğŸŒ åœ°çƒåŸºæº–ã®åˆæœŸæ™‚åˆ»ï¼ˆ2025/2/13 14:10:21 UTCï¼‰
    const baseEarthTime = new Date("2025-02-13T14:10:21Z").getTime(); 

    // â³ ã‚·ãƒ¼ãƒ¬ãƒ³ã‚¹åˆæœŸæ™‚é–“ï¼ˆ2082/6/17 14:18:4ï¼‰
    const baseSilense = {
        year: 2082, month: 6, day: 17,
        hour: 14, minute: 18, second: 4
    };

    const EARTH_TO_SILENSE_TIME_RATIO = 24 / 29; 
    const SILENSE_SECOND_IN_MS = 1000 * EARTH_TO_SILENSE_TIME_RATIO; 

    function calculateSilenseTime() {
        const now = new Date().getTime();
        const elapsedEarthSeconds = (now - baseEarthTime) / 1000; 
        const elapsedSilenseSeconds = elapsedEarthSeconds * EARTH_TO_SILENSE_TIME_RATIO; 

        let totalSeconds = baseSilense.second + Math.floor(elapsedSilenseSeconds);
        let totalMinutes = baseSilense.minute + Math.floor(totalSeconds / 60);
        let totalHours = baseSilense.hour + Math.floor(totalMinutes / 60);
        let totalDays = baseSilense.day + Math.floor(totalHours / 24);

        let addedMonths = Math.floor((totalDays - 1) / 32);
        let currentDay = ((totalDays - 1) % 32) + 1;

        let totalMonths = baseSilense.month + addedMonths;
        let addedYears = Math.floor((totalMonths - 1) / 8); 
        let currentMonth = ((totalMonths - 1) % 8) + 1;

        let currentYear = baseSilense.year + addedYears;

        let currentSecond = totalSeconds % 60;
        let currentMinute = totalMinutes % 60;
        let currentHour = totalHours % 24;

        function pad(num) { return num.toString().padStart(2, "0"); }
        return {
            timeString: `${currentYear}/${pad(currentMonth)}/${pad(currentDay)} ${pad(currentHour)}:${pad(currentMinute)}:${pad(currentSecond)}`,
            year: currentYear, month: currentMonth, day: currentDay
        };
    }

    function updateClock() {
        const silenseTime = calculateSilenseTime();
        document.getElementById("clock").textContent = silenseTime.timeString;
        updateCalendar(silenseTime.year, silenseTime.month, silenseTime.day);
        highlightSchedule(silenseTime.month, silenseTime.day);
    }

    // äºˆå®šä¸€è¦§ã‹ã‚‰ç¥æ—¥ãƒªã‚¹ãƒˆã‚’ä½œæˆ
    function getHolidayMap() {
        const holidays = {};
        const schedule = document.getElementById("schedule").querySelectorAll("div");
        schedule.forEach(div => {
            const m = div.textContent.match(/^â—‹(\d+)æœˆ(\d+)æ—¥/);
            if (m) {
                const key = `${parseInt(m[1],10)}-${parseInt(m[2],10)}`;
                holidays[key] = true;
            }
        });
        return holidays;
    }

    function updateCalendar(year, month, today) {
        const daysInMonth = 32;
        const weeksInMonth = Math.ceil(daysInMonth / 8);
        const weekNames = ["æ°´", "é‡‘", "åœ°", "ç«", "æœ¨", "åœŸ", "å¤©", "æµ·"];
        const holidays = getHolidayMap();

        let html = `<h2>${year}å¹´ ${month}æœˆ</h2>`;
        html += `<table><tr>`;
        for (let i = 0; i < 8; i++) {
            html += `<th>${weekNames[i]}</th>`;
        }
        html += `</tr>`;

        let day = 1;
        for (let week = 0; week < weeksInMonth; week++) {
            html += "<tr>";
            for (let i = 0; i < 8; i++) {
                if (day <= daysInMonth) {
                    const key = `${month}-${day}`;
                    const isHoliday = holidays[key];
                    let cls = "weekday"; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ

                    if (weekNames[i] === "å¤©") cls = "ten";
                    if (weekNames[i] === "æµ·") cls = "umi";
                    if (isHoliday) cls = "holiday"; // ç¥æ—¥ãŒå„ªå…ˆ

                    // å½“æ—¥åˆ¤å®š
                    if (day === today) {
                        if (isHoliday) cls = "today-holiday";
                        else if (weekNames[i] === "å¤©") cls = "today-ten";
                        else if (weekNames[i] === "æµ·") cls = "today-umi";
                        else cls = "today-weekday";
                    }

                    html += `<td class="${cls}">${day}</td>`;
                    day++;
                } else {
                    html += `<td></td>`;
                }
            }
            html += "</tr>";
        }
        html += "</table>";

        document.getElementById("calendar").innerHTML = html;
    }

    // ä»Šæ—¥ã®äºˆå®šã«æ ã‚’ã¤ã‘ã‚‹
    function highlightSchedule(month, day) {
        const schedule = document.getElementById("schedule");
        const children = schedule.querySelectorAll("div");

        children.forEach(div => {
            div.classList.remove("highlight-event");
            if (div.textContent.startsWith(`â—‹${month}æœˆ${String(day).padStart(2,"0")}æ—¥`)) {
                div.classList.add("highlight-event");
            }
        });
    }

    setInterval(updateClock, SILENSE_SECOND_IN_MS);
    updateClock();
</script>

</body>
</html>
